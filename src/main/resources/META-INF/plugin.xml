<idea-plugin>
    <id>ru.dsudomoin.kora-plugin</id>
    <name>Kora</name>
    <vendor>dsudomoin</vendor>

    <description><![CDATA[
        Provides Spring-like "Go to Declaration" navigation for the Kora DI framework.
        Navigate from dependency injection points (constructor parameters, factory method parameters)
        to their providers (@Component classes, factory methods in @KoraApp/@Module interfaces).
    ]]></description>

    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.java</depends>
    <depends>org.jetbrains.kotlin</depends>
    <depends>org.jetbrains.plugins.yaml</depends>
    <depends optional="true" config-file="hocon-support.xml">org.jetbrains.plugins.hocon</depends>

    <extensions defaultExtensionNs="com.intellij">
        <fileBasedIndex implementation="ru.dsudomoin.koraplugin.index.KoraProviderIndex"/>
        <fileBasedIndex implementation="ru.dsudomoin.koraplugin.index.KoraInjectionSiteIndex"/>

        <gotoDeclarationHandler
                implementation="ru.dsudomoin.koraplugin.navigation.KoraGotoDeclarationHandler"/>
        <gotoDeclarationHandler
                implementation="ru.dsudomoin.koraplugin.config.yaml.YamlConfigGotoHandler"/>
        <codeInsight.lineMarkerProvider language="JAVA"
                implementationClass="ru.dsudomoin.koraplugin.navigation.KoraLineMarkerProvider"/>
        <codeInsight.lineMarkerProvider language="kotlin"
                implementationClass="ru.dsudomoin.koraplugin.navigation.KoraLineMarkerProvider"/>
        <codeInsight.lineMarkerProvider language="JAVA"
                implementationClass="ru.dsudomoin.koraplugin.config.ConfigSourceLineMarkerProvider"/>
        <codeInsight.lineMarkerProvider language="kotlin"
                implementationClass="ru.dsudomoin.koraplugin.config.ConfigSourceLineMarkerProvider"/>

        <localInspection language="UAST" shortName="KoraNoProvider"
                displayName="No provider found for injection point"
                groupName="Kora" enabledByDefault="true" level="ERROR"
                implementationClass="ru.dsudomoin.koraplugin.inspection.KoraNoProviderInspection"/>
        <localInspection language="UAST" shortName="KoraMultipleProviders"
                displayName="Multiple providers found for injection point"
                groupName="Kora" enabledByDefault="true" level="WARNING"
                implementationClass="ru.dsudomoin.koraplugin.inspection.KoraMultipleProvidersInspection"/>
    </extensions>

    <extensions defaultExtensionNs="org.jetbrains.kotlin">
        <supportsKotlinPluginMode supportsK2="true"/>
    </extensions>
</idea-plugin>
